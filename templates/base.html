<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <meta name="description" content="{{ description }}">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{{ title }}">
    <meta property="og:description" content="{{ description }}">
    <meta property="og:type" content="{{ og_type }}">
    <meta property="og:url" content="{{ url }}">
    <meta property="og:image" content="{{ image }}">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="{{ url }}">
    <meta name="twitter:title" content="{{ title }}">
    <meta name="twitter:description" content="{{ description }}">
    <meta name="twitter:image" content="{{ image }}">

    <!-- Canonical URL -->
    <link rel="canonical" href="{{ url }}">

    <!-- Structured Data (JSON-LD) -->
    {{ json_ld }}

    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" title="Does This Feel Right? RSS Feed" href="{{ root }}feed.xml">

    <link rel="stylesheet" href="{{ root }}css/style.css">
</head>

<body>
    <div class="container">
        <header>
            <div class="header-modules">
                <!-- Module 1: Logo -->
                <a href="{{ root }}index.html" class="header-module logo-module">
                    <span class="logo-text">DOES THIS FEEL RIGHT?</span>
                    <span class="logo-underline"></span>
                </a>

                <!-- Module 4: Support -->
                <div class="header-module support-module">
                    <button class="support-trigger" id="bmc-support-btn">SUPPORT</button>
                </div>

                <!-- Module 5: Search -->
                <div class="header-module search-module">
                    <div class="header-search-container">
                        <input type="search" id="header-search" placeholder="Search essays..."
                            class="inline-search-input">
                    </div>
                </div>

                <!-- Mobile Menu Toggle (Visible only on mobile) -->
                <button class="mobile-menu-btn" aria-label="Toggle Menu">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>

            <!-- Mobile Nav Overlay -->
            <div class="mobile-nav-overlay">
                <nav class="mobile-nav">
                    <div class="mobile-search-container">
                        <input type="search" id="mobile-search" placeholder="Search essays..."
                            class="mobile-search-input">
                    </div>
                    <a href="{{ root }}index.html">Home</a>
                    <a href="{{ root }}about.html">About</a>
                    <a href="{{ root }}collections.html">Collections</a>
                    <a href="{{ root }}consulting.html">Consulting</a>
                    <a href="#" id="mobile-support-btn">Support</a>
                </nav>
            </div>
        </header>

        <main>
            {{ content }}
        </main>
    </div>
    <!-- Supabase JS Library -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- App Scripts -->
    <script src="{{ root }}js/config.js"></script>
    <script src="{{ root }}js/main.js"></script>
    <!-- auth.js and bookmarks.js removed -->
    <script src="{{ root }}js/reading-progress.js"></script>
    <script src="{{ root }}js/share.js"></script>
    <script src="{{ root }}js/search.js"></script>
    <script src="{{ root }}js/support.js"></script>

    <!-- Buy Me a Coffee Widget -->
    <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js"
        data-id="doesthisfeelright" data-description="Support me on Buy me a coffee!"
        data-message="Thanks for reading! If you enjoyed this, consider supporting the blog." data-color="#FFDD00"
        data-position="Right" data-x_margin="18" data-y_margin="18"></script>


</body>

</html>